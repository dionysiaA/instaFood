{"version":3,"sources":["../src/types/ViewerType.js"],"names":["articles","name","nodeType","fields","me","type","resolve","root","args","user","connectionType","description","_","find"],"mappings":";;;;;;AAWA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,WAAW,yCAAsB,EAAEC,MAAM,SAAR,EAAmBC,+BAAnB,EAAtB,CAAjB,C,CAjBA;;;;;;;;;kBAmBe,+BAAsB;AACnCD,QAAM,QAD6B;AAEnCE,UAAQ;AACNC,QAAI;AACFC,8BADE;AAEFC,cAAQC,IAAR,EAAcC,IAAd,EAAoB,EAAEC,IAAF,EAApB,EAA8B;AAC5B,eAAOA,IAAP;AACD;AAJC,KADE;AAONT,cAAU;AACRK,YAAML,SAASU,cADP;AAERC,mBAAa,mBAFL;AAGRH,wCAHQ;AAIRF,eAAS,CAACM,CAAD,EAAIJ,IAAJ,KAAa,+CAA4B,kBAAQK,IAAR,EAA5B,EAA4CL,IAA5C;AAJd;AAPJ;AAF2B,CAAtB,C","file":"ViewerType.js","sourcesContent":["/**\n * Node.js API Starter Kit (https://reactstarter.com/nodejs)\n *\n * Copyright Â© 2016-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/* @flow */\n\nimport { GraphQLObjectType } from 'graphql';\nimport { connectionArgs, connectionDefinitions, connectionFromPromisedArray } from 'graphql-relay';\nimport Article from '../models/Article';\nimport ArticleType from './ArticleType';\nimport UserType from './UserType';\n\nconst articles = connectionDefinitions({ name: 'Article', nodeType: ArticleType });\n\nexport default new GraphQLObjectType({\n  name: 'Viewer',\n  fields: {\n    me: {\n      type: UserType,\n      resolve(root, args, { user }) {\n        return user;\n      },\n    },\n    articles: {\n      type: articles.connectionType,\n      description: 'Featured articles',\n      args: connectionArgs,\n      resolve: (_, args) => connectionFromPromisedArray(Article.find(), args),\n    },\n  },\n});\n"]}